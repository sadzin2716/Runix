-- 1. Biblioteca MaterialLua 
local Material = loadstring(game:HttpGet("https://raw.githubusercontent.com/Kinlei/MaterialLua/master/Module.lua"))()

-- 2. ServiÃ§os e variÃ¡veis
local Players, RunService, LocalPlayer = game:GetService("Players"), game:GetService("RunService"), game:GetService("Players").LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local camera = workspace.CurrentCamera
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local config = { espEnabled = true, enemyColor = Color3.fromRGB(255,0,0), teamColor = Color3.fromRGB(0,255,0) }
local hitboxConfig = { enabled = false, size = Vector3.new(7,7,7), normalSize = Vector3.new(2,2,1) }

-- ConfiguraÃ§Ã£o do Auto Farm COM COORDENADAS PRÃ‰-DEFINIDAS
local autoFarmConfig = {
    enabled = false,
    autoShoot = false,
    wallbang = false,
    shootDelay = 0.05,
    teleportToPad = false,
    padPosition = CFrame.new(31.6, -114.5, 57.9) -- Coordenadas do pad salvas!
}

-- 3. FunÃ§Ãµes ESP / Hitbox
local function updateAll()
    for _, pl in pairs(Players:GetPlayers()) do
        if pl ~= LocalPlayer and pl.Character then
            local hl = pl.Character:FindFirstChild("ESP_Highlight")
            if hl then
                local col = (pl.Team == LocalPlayer.Team) and config.teamColor or config.enemyColor
                hl.FillColor, hl.OutlineColor, hl.Enabled = col, col, config.espEnabled
            end
            local hrp = pl.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                if hitboxConfig.enabled and pl.Team ~= LocalPlayer.Team then
                    hrp.Size, hrp.Transparency, hrp.Material = hitboxConfig.size, 0.6, Enum.Material.ForceField
                else
                    hrp.Size, hrp.Transparency, hrp.Material = hitboxConfig.normalSize, 1, Enum.Material.Plastic
                end
                hrp.CanCollide = false
            end
        end
    end
end

local function tryCreateESP(pl, char)
    if char:FindFirstChild("ESP_Highlight") then return end
    local hl = Instance.new("Highlight", char)
    hl.Name, hl.FillTransparency, hl.OutlineTransparency = "ESP_Highlight", 0.5, 0
    hl.FillColor = (pl.Team == LocalPlayer.Team) and config.teamColor or config.enemyColor
    hl.OutlineColor = hl.FillColor
    hl.Enabled = config.espEnabled
end

local function applyToPlayer(pl)
    if pl == LocalPlayer then return end
    pl.CharacterAdded:Connect(function(char)
        repeat task.wait() until char:FindFirstChild("HumanoidRootPart")
        tryCreateESP(pl, char)
        updateAll()
    end)
    if pl.Character then
        tryCreateESP(pl, pl.Character)
        updateAll()
    end
end
for _, pl in pairs(Players:GetPlayers()) do applyToPlayer(pl) end
Players.PlayerAdded:Connect(applyToPlayer)
task.spawn(function() while true do if hitboxConfig.enabled then updateAll() end RunService.Heartbeat:Wait() end end)

-- 4. Aimbot com FOV e Lerp
local aiming = false
local aimbotFOV = 100

local function isAlive(plr)
    return plr.Character and plr.Character:FindFirstChild("Head") and plr.Character:FindFirstChild("Humanoid") and plr.Character.Humanoid.Health > 0
end

local function getClosestTarget()
    local closest, shortestDist = nil, math.huge
    local mousePos = Vector2.new(Mouse.X, Mouse.Y)
    for _, pl in pairs(Players:GetPlayers()) do
        if pl ~= LocalPlayer and isAlive(pl) then
            local headPos, onScreen = camera:WorldToViewportPoint(pl.Character.Head.Position)
            if onScreen then
                local screenPos = Vector2.new(headPos.X, headPos.Y)
                local dist = (mousePos - screenPos).Magnitude
                if dist < shortestDist and dist <= aimbotFOV then
                    shortestDist = dist
                    closest = pl
                end
            end
        end
    end
    return closest
end

local Drawing = Drawing
local fovCircle = Drawing.new("Circle")
fovCircle.Visible = false
fovCircle.Radius = aimbotFOV
fovCircle.Thickness = 2
fovCircle.Transparency = 0.5
fovCircle.Color = Color3.fromRGB(255, 255, 0)
fovCircle.Filled = false

RunService.RenderStepped:Connect(function()
    fovCircle.Position = Vector2.new(Mouse.X, Mouse.Y + 36)
    fovCircle.Radius = aimbotFOV
    fovCircle.Visible = aiming
end)

RunService.RenderStepped:Connect(function()
    if aiming then
        local target = getClosestTarget()
        if target and target.Character and target.Character:FindFirstChild("Head") then
            local cam = workspace.CurrentCamera
            local headPos = target.Character.Head.Position
            local camPos = cam.CFrame.Position
            local desiredCFrame = CFrame.new(camPos, headPos)
            cam.CFrame = cam.CFrame:Lerp(desiredCFrame, 0.15)
        end
    end
end)

-- 5. SISTEMA DE AUTO FARM COM COORDENADAS PRÃ‰-DEFINIDAS

local function saveCurrentPosition()
    if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then 
        return false 
    end
    
    autoFarmConfig.padPosition = LocalPlayer.Character.HumanoidRootPart.CFrame
    local pos = autoFarmConfig.padPosition.Position
    print(string.format("[Auto Farm] âœ… PosiÃ§Ã£o salva: X: %.1f, Y: %.1f, Z: %.1f", pos.X, pos.Y, pos.Z))
    return true
end

local function teleportToPad()
    if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then 
        return false
    end
    
    if not autoFarmConfig.padPosition then
        print("[Auto Farm] âŒ ERRO: Nenhuma posiÃ§Ã£o configurada!")
        return false
    end
    
    -- Teleporta para a posiÃ§Ã£o salva
    LocalPlayer.Character.HumanoidRootPart.CFrame = autoFarmConfig.padPosition
    wait(0.3)
    return true
end

local function getEnemyPlayer()
    for _, pl in pairs(Players:GetPlayers()) do
        if pl ~= LocalPlayer and pl.Team ~= LocalPlayer.Team and isAlive(pl) then
            return pl
        end
    end
    return nil
end

local function shootAtTarget(target)
    if not target or not target.Character then return end
    
    local head = target.Character:FindFirstChild("Head")
    if not head then return end
    
    -- Desabilita colisÃ£o para wallbang
    if autoFarmConfig.wallbang then
        for _, part in pairs(workspace:GetDescendants()) do
            if part:IsA("BasePart") and not part:IsDescendantOf(LocalPlayer.Character) and not part:IsDescendantOf(target.Character) then
                part.CanCollide = false
            end
        end
    end
    
    -- Mira na cabeÃ§a do inimigo
    local cam = workspace.CurrentCamera
    cam.CFrame = CFrame.new(cam.CFrame.Position, head.Position)
    
    -- Simula o clique do mouse para atirar
    mouse1press()
    wait(autoFarmConfig.shootDelay)
    mouse1release()
end

-- Loop principal do Auto Farm
local farmRunning = false
task.spawn(function()
    while true do
        wait(0.1)
        
        if autoFarmConfig.enabled and not farmRunning then
            farmRunning = true
            
            task.spawn(function()
                while autoFarmConfig.enabled do
                    -- Verifica se estÃ¡ no lobby e teleporta para o pad
                    if autoFarmConfig.teleportToPad and autoFarmConfig.padPosition then
                        local success = teleportToPad()
                        if success then
                            wait(1.5) -- Espera apÃ³s teleportar
                        end
                    end
                    
                    -- Auto Shoot - loop contÃ­nuo de tiro
                    if autoFarmConfig.autoShoot then
                        local enemy = getEnemyPlayer()
                        if enemy and isAlive(enemy) then
                            shootAtTarget(enemy)
                        end
                    end
                    
                    wait(autoFarmConfig.shootDelay)
                end
                farmRunning = false
            end)
        end
        
        if not autoFarmConfig.enabled then
            farmRunning = false
        end
    end
end)

-- 6. GUI com MaterialLua
local themes = { "Dark", "Light", "Aqua", "Jester" }
local UI, PlayerTab, FarmTab

local function buildUI(theme)
    if UI then UI:Destroy() end
    UI = Material.Load({ Title="Runix Hub | MVSD", Style=1, SizeX=400, SizeY=450, Theme=theme or "Dark" })
    
    -- Aba Player
    PlayerTab = UI.New({ Title="Player" })
    PlayerTab.Toggle({ Text="Ativar ESP", Callback=function(s) config.espEnabled = s updateAll() end, Enabled=config.espEnabled })
    PlayerTab.Toggle({ Text="Hitbox Expandida (inimigos)", Callback=function(s) hitboxConfig.enabled = s updateAll() end, Enabled=hitboxConfig.enabled })
    PlayerTab.Toggle({ Text="Aimbot", Callback=function(s) aiming = s end, Enabled=aiming })

    PlayerTab.Slider({ Text="Tamanho Hitbox", Min=2, Max=15, Def=hitboxConfig.size.X,
        Callback=function(v) hitboxConfig.size = Vector3.new(v,v,v) updateAll() end })

    PlayerTab.Slider({ Text="Campo de VisÃ£o Aimbot", Min=20, Max=300, Def=aimbotFOV,
        Callback=function(v) aimbotFOV = v end })

    PlayerTab.Dropdown({
        Text="Tema da UI",
        Options=themes,
        Callback=function(sel)
            buildUI(sel)
        end
    })
    
    -- Aba Auto Farm
    FarmTab = UI.New({ Title="Auto Farm" })
    
    FarmTab.Button({
        Text="ðŸš€ Testar Teleporte para Pad",
        Callback=function()
            if teleportToPad() then
                print("[Auto Farm] âœ… Teleportado com sucesso!")
            else
                print("[Auto Farm] âŒ Erro ao teleportar!")
            end
        end
    })
    
    FarmTab.Button({
        Text="ðŸ“ Atualizar PosiÃ§Ã£o (onde estou agora)",
        Callback=function()
            if saveCurrentPosition() then
                print("[Auto Farm] âœ… Nova posiÃ§Ã£o salva!")
            else
                print("[Auto Farm] âŒ Erro ao salvar!")
            end
        end
    })
    
    FarmTab.Toggle({ 
        Text="ðŸ”¥ ATIVAR AUTO FARM", 
        Callback=function(s) 
            autoFarmConfig.enabled = s 
            if s then
                print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
                print("    ðŸ”¥ AUTO FARM ATIVADO!")
                print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
                print("ðŸ“ PosiÃ§Ã£o: X: 31.6, Y: -114.5, Z: 57.9")
                print("ðŸŽ¯ O bot vai comeÃ§ar a farmar agora!")
                print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
            else
                print("[Auto Farm] âŒ Auto Farm DESATIVADO!")
            end
        end, 
        Enabled=autoFarmConfig.enabled 
    })
    
    FarmTab.Toggle({ 
        Text="ðŸ“ Auto Teleport para Pad", 
        Callback=function(s) 
            autoFarmConfig.teleportToPad = s 
            if s then
                print("[Auto Farm] âœ… Auto Teleport ATIVADO!")
            end
        end, 
        Enabled=autoFarmConfig.teleportToPad 
    })
    
    FarmTab.Toggle({ 
        Text="ðŸŽ¯ Auto Shoot (Atirar Automaticamente)", 
        Callback=function(s) 
            autoFarmConfig.autoShoot = s 
            if s then
                print("[Auto Farm] âœ… Auto Shoot ATIVADO!")
            end
        end, 
        Enabled=autoFarmConfig.autoShoot 
    })
    
    FarmTab.Toggle({ 
        Text="ðŸ§± Wallbang (Atirar AtravÃ©s de Paredes)", 
        Callback=function(s) 
            autoFarmConfig.wallbang = s 
            if s then
                print("[Auto Farm] âœ… Wallbang ATIVADO!")
            end
        end, 
        Enabled=autoFarmConfig.wallbang 
    })
    
    FarmTab.Slider({ 
        Text="â±ï¸ Delay entre Tiros (ms)", 
        Min=10, 
        Max=500, 
        Def=autoFarmConfig.shootDelay * 1000,
        Callback=function(v) 
            autoFarmConfig.shootDelay = v / 1000 
            print(string.format("[Auto Farm] Delay ajustado: %dms", v))
        end 
    })

    UI.Init()
end

buildUI("Dark")

print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("    ðŸŽ® RUNIX HUB - MVSD AUTO FARM")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("âœ… Script carregado com sucesso!")
print("ðŸ“ Coordenadas prÃ©-configuradas:")
print("   X: 31.6, Y: -114.5, Z: 57.9")
print("")
print("ðŸš€ INÃCIO RÃPIDO:")
print("1ï¸âƒ£ VÃ¡ na aba 'Auto Farm'")
print("2ï¸âƒ£ Ative 'ðŸ”¥ ATIVAR AUTO FARM'")
print("3ï¸âƒ£ Ative 'Auto Teleport', 'Auto Shoot' e 'Wallbang'")
print("4ï¸âƒ£ Deixe o bot farmar sozinho!")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
